2024-03-29 10:20:27.8019 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 10:20:28.1217 WARN Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-03-29 10:20:28.2244 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:20:28.3146 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 10:20:28.3146 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 10:20:28.3822 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:21:05.7041 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 10:21:06.0548 WARN Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-03-29 10:21:06.1295 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:21:06.1612 DEBUG Migrating using database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.1653 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.3074 DEBUG An error occurred using the connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.3074 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.3074 DEBUG An error occurred using the connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.3309 DEBUG Opening connection to database 'master' on server '.'.
2024-03-29 10:21:06.3415 DEBUG Opened connection to database 'master' on server '.'.
2024-03-29 10:21:06.3415 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.3513 DEBUG Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-03-29 10:21:06.3513 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [FINALPART2/3];
2024-03-29 10:21:06.4899 INFO Executed DbCommand (134ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
CREATE DATABASE [FINALPART2/3];
2024-03-29 10:21:06.4909 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.4909 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.4909 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [FINALPART2/3] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-03-29 10:21:06.5678 INFO Executed DbCommand (77ms) [Parameters=[], CommandType='Text', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [FINALPART2/3] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-03-29 10:21:06.5693 DEBUG Closing connection to database 'master' on server '.'.
2024-03-29 10:21:06.5693 DEBUG Closed connection to database 'master' on server '.'.
2024-03-29 10:21:06.5693 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.5693 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.5693 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.5693 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.5693 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-03-29 10:21:06.5882 INFO Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-03-29 10:21:06.5882 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.5882 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6415 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 10:21:06.6415 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 10:21:06.6487 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.6487 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.6487 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-03-29 10:21:06.6487 INFO Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-03-29 10:21:06.6487 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.6487 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.6487 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-03-29 10:21:06.6487 INFO Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2024-03-29 10:21:06.6487 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Creating DbCommand for 'ExecuteScalar'.
2024-03-29 10:21:06.6487 DEBUG Created DbCommand for 'ExecuteScalar' (0ms).
2024-03-29 10:21:06.6487 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6487 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-03-29 10:21:06.6708 INFO Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-03-29 10:21:06.6708 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6708 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6708 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:21:06.6708 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:21:06.6708 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6708 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6708 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-03-29 10:21:06.6816 INFO Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-03-29 10:21:06.6816 DEBUG A data reader was disposed.
2024-03-29 10:21:06.6816 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6816 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.6816 INFO Applying migration '20240329062028_finaliiiii'.
2024-03-29 10:21:06.7078 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.7078 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.7078 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-29 10:21:06.7131 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-29 10:21:06.7131 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.7131 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.7131 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Persons] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [Surname] nvarchar(max) NULL,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Age] int NOT NULL,
    [Salary] float NOT NULL,
    [Role] nvarchar(max) NULL,
    [IsBlocked] bit NOT NULL,
    CONSTRAINT [PK_Persons] PRIMARY KEY ([Id])
);
2024-03-29 10:21:06.7131 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Persons] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NULL,
    [Surname] nvarchar(max) NULL,
    [UserName] nvarchar(max) NULL,
    [Password] nvarchar(max) NULL,
    [Email] nvarchar(max) NULL,
    [Age] int NOT NULL,
    [Salary] float NOT NULL,
    [Role] nvarchar(max) NULL,
    [IsBlocked] bit NOT NULL,
    CONSTRAINT [PK_Persons] PRIMARY KEY ([Id])
);
2024-03-29 10:21:06.7131 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.7131 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.7131 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Loans] (
    [Id] int NOT NULL IDENTITY,
    [PersonId] int NOT NULL,
    [Type] int NOT NULL,
    [Currency] int NOT NULL,
    [Period] int NOT NULL,
    [Status] int NOT NULL,
    [Amount] int NOT NULL,
    CONSTRAINT [PK_Loans] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Loans_Persons_PersonId] FOREIGN KEY ([PersonId]) REFERENCES [Persons] ([Id]) ON DELETE CASCADE
);
2024-03-29 10:21:06.7131 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE TABLE [Loans] (
    [Id] int NOT NULL IDENTITY,
    [PersonId] int NOT NULL,
    [Type] int NOT NULL,
    [Currency] int NOT NULL,
    [Period] int NOT NULL,
    [Status] int NOT NULL,
    [Amount] int NOT NULL,
    CONSTRAINT [PK_Loans] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Loans_Persons_PersonId] FOREIGN KEY ([PersonId]) REFERENCES [Persons] ([Id]) ON DELETE CASCADE
);
2024-03-29 10:21:06.7131 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.7131 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.7131 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Loans_PersonId] ON [Loans] ([PersonId]);
2024-03-29 10:21:06.7131 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
CREATE INDEX [IX_Loans_PersonId] ON [Loans] ([PersonId]);
2024-03-29 10:21:06.7131 DEBUG Creating DbCommand for 'ExecuteNonQuery'.
2024-03-29 10:21:06.7131 DEBUG Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-03-29 10:21:06.7131 DEBUG Executing DbCommand [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240329062028_finaliiiii', N'5.0.0');
2024-03-29 10:21:06.7131 INFO Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240329062028_finaliiiii', N'5.0.0');
2024-03-29 10:21:06.7131 DEBUG Committing transaction.
2024-03-29 10:21:06.7131 DEBUG Committed transaction.
2024-03-29 10:21:06.7260 DEBUG Disposing transaction.
2024-03-29 10:21:06.7260 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.7260 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:21:06.7260 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:34:14.2759 DEBUG Hosting starting
2024-03-29 10:34:14.3390 INFO User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 10:34:14.3390 DEBUG Reading data from file 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys\key-9d0d177f-9704-4297-b5e6-7802b1317f7a.xml'.
2024-03-29 10:34:14.3645 DEBUG Found key {9d0d177f-9704-4297-b5e6-7802b1317f7a}.
2024-03-29 10:34:14.3808 DEBUG Considering key {9d0d177f-9704-4297-b5e6-7802b1317f7a} with expiration date 2024-05-13 09:37:47Z as default key.
2024-03-29 10:34:14.4373 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 10:34:14.4373 DEBUG Decrypting secret element using Windows DPAPI.
2024-03-29 10:34:14.4373 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 10:34:14.4443 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-03-29 10:34:14.4443 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-03-29 10:34:14.4443 DEBUG Using key {9d0d177f-9704-4297-b5e6-7802b1317f7a} as the default key.
2024-03-29 10:34:14.4443 DEBUG Key ring with default key {9d0d177f-9704-4297-b5e6-7802b1317f7a} was loaded during application startup.
2024-03-29 10:34:14.7502 DEBUG Loaded hosting startup assembly FINAL2
2024-03-29 10:34:14.7502 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 10:34:14.7502 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 10:34:14.7502 INFO Application started. Press Ctrl+C to shut down.
2024-03-29 10:34:14.7502 INFO Hosting environment: Development
2024-03-29 10:34:14.7502 INFO Content root path: C:\Users\lenovo\source\repos\FINAL2\FINAL2
2024-03-29 10:34:14.7502 DEBUG Hosting started
2024-03-29 10:34:14.7973 INFO Request starting HTTP/2 GET https://localhost:44391/swagger - -
2024-03-29 10:34:14.9593 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-29 10:34:14.9593 TRACE All hosts are allowed.
2024-03-29 10:34:14.9949 DEBUG Connection ID "18302628900129210859" disconnecting.
2024-03-29 10:34:15.0065 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2024-03-29 10:34:15.0065 TRACE All hosts are allowed.
2024-03-29 10:34:15.0065 INFO Request finished HTTP/2 GET https://localhost:44391/swagger - - - 301 - - 222.1918ms
2024-03-29 10:34:15.1220 DEBUG Response markup is scheduled to include browser refresh script injection.
2024-03-29 10:34:15.1498 DEBUG Response markup was updated to include browser refresh script injection.
2024-03-29 10:34:15.1498 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 144.3814ms
2024-03-29 10:34:15.1498 DEBUG Connection ID "17870283331606675524" disconnecting.
2024-03-29 10:34:15.1640 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/swagger-ui.css - -
2024-03-29 10:34:15.1640 TRACE All hosts are allowed.
2024-03-29 10:34:15.1640 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/swagger-ui-standalone-preset.js - -
2024-03-29 10:34:15.1640 INFO Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 10:34:15.1640 TRACE All hosts are allowed.
2024-03-29 10:34:15.1640 INFO Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2024-03-29 10:34:15.1640 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/swagger-ui-bundle.js - -
2024-03-29 10:34:15.1640 TRACE All hosts are allowed.
2024-03-29 10:34:15.1640 TRACE Range header's value is empty.
2024-03-29 10:34:15.1640 TRACE Range header's value is empty.
2024-03-29 10:34:15.1640 TRACE Range header's value is empty.
2024-03-29 10:34:15.1640 DEBUG Connection ID "18230571318976184583" disconnecting.
2024-03-29 10:34:15.1640 INFO Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 12.3086ms
2024-03-29 10:34:15.2155 INFO Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-03-29 10:34:15.2155 INFO Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-03-29 10:34:15.2155 INFO Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-03-29 10:34:15.2155 DEBUG Connection ID "18014398541157367887" disconnecting.
2024-03-29 10:34:15.2155 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/swagger-ui.css - - - 200 142933 text/css 57.4094ms
2024-03-29 10:34:15.2252 DEBUG Connection ID "17942340947119439924" disconnecting.
2024-03-29 10:34:15.2252 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/swagger-ui-standalone-preset.js - - - 200 311804 application/javascript 61.0515ms
2024-03-29 10:34:15.2417 DEBUG Connection ID "18158513729233223777" disconnecting.
2024-03-29 10:34:15.2417 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/swagger-ui-bundle.js - - - 200 986342 application/javascript 70.8270ms
2024-03-29 10:34:23.6140 DEBUG Connection ID "18158513724938256679" disconnecting.
2024-03-29 10:34:23.6140 INFO Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 8449.8445ms
2024-03-29 10:34:23.6544 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2024-03-29 10:34:23.6544 TRACE All hosts are allowed.
2024-03-29 10:34:23.6714 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/favicon-32x32.png - -
2024-03-29 10:34:23.6714 TRACE All hosts are allowed.
2024-03-29 10:34:23.6714 TRACE Range header's value is empty.
2024-03-29 10:34:23.6714 INFO Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-03-29 10:34:23.6714 DEBUG Connection ID "18158513724938256681" disconnecting.
2024-03-29 10:34:23.6714 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/favicon-32x32.png - - - 200 628 image/png 1.2873ms
2024-03-29 10:34:23.7540 DEBUG Connection ID "17870283340196610162" disconnecting.
2024-03-29 10:34:23.7540 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.7962ms
2024-03-29 10:35:08.8008 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 145
2024-03-29 10:35:08.8045 TRACE All hosts are allowed.
2024-03-29 10:35:08.8045 DEBUG POST requests are not supported
2024-03-29 10:35:08.8666 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/register'
2024-03-29 10:35:08.8666 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)' with route pattern 'api/PersonControler/register' is valid for the request path '/api/PersonControler/register'
2024-03-29 10:35:08.8666 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:35:08.9564 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:35:08.9564 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:35:08.9609 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-29 10:35:08.9875 INFO Route matched with {action = "RegisterUser", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(FINAL2.Model.Register) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 10:35:08.9875 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:35:08.9875 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:35:08.9875 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:35:08.9875 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:35:08.9875 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:35:08.9875 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:35:09.1171 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 10:35:09.1657 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:35:09.1657 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:35:09.1657 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' using the name '' in request data ...
2024-03-29 10:35:09.1657 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:35:09.1925 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Register'
2024-03-29 10:35:09.1925 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:35:09.1925 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:35:09.1925 DEBUG Attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:35:09.1988 DEBUG Done attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:35:09.1988 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:35:09.1988 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:09.1988 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:09.1988 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:09.1988 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:09.1988 INFO Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) - Validation state: Valid
2024-03-29 10:35:09.1988 TRACE Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) with arguments (FINAL2.Model.Register)
2024-03-29 10:35:09.7921 WARN Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-03-29 10:35:09.8764 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:35:09.9522 DEBUG Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Email == __user_Email_0)'
2024-03-29 10:35:10.0816 DEBUG Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Persons AS p
                WHERE p.Email == @__user_Email_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        FINAL2.Data.PersonDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 10:35:10.1126 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:35:10.1605 DEBUG Created DbCommand for 'ExecuteReader' (42ms).
2024-03-29 10:35:10.1759 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.4374 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.4470 DEBUG Executing DbCommand [Parameters=[@__user_Email_0='mari@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:35:10.4943 INFO Executed DbCommand (52ms) [Parameters=[@__user_Email_0='mari@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:35:10.5128 DEBUG A data reader was disposed.
2024-03-29 10:35:10.5128 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.5128 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.6528 DEBUG '"PersonDbContext"' generated temporary value '-2147482647' for the property '"Id"."Person"'.
2024-03-29 10:35:10.7485 DEBUG Context 'PersonDbContext' started tracking 'Person' entity with key '{Id: -2147482647}'.
2024-03-29 10:35:10.7485 DEBUG SaveChanges starting for 'PersonDbContext'.
2024-03-29 10:35:10.7485 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 10:35:10.7594 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 10:35:10.7594 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.7729 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.7729 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-29 10:35:10.7729 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-29 10:35:10.8386 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:35:10.8386 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:35:10.8386 DEBUG Executing DbCommand [Parameters=[@p0='1000', @p1='mari@.com' (Size = 4000), @p2='False', @p3='mari' (Size = 4000), @p4='$2a$10$GT7EG3aTUKRdaJuN.twlQOOjy6E2d8Vw0vbtai4I7u4TToJBKFBgK' (Size = 4000), @p5='User' (Size = 4000), @p6='1000', @p7='mari' (Size = 4000), @p8='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 10:35:10.8386 INFO Executed DbCommand (8ms) [Parameters=[@p0='1000', @p1='mari@.com' (Size = 4000), @p2='False', @p3='mari' (Size = 4000), @p4='$2a$10$GT7EG3aTUKRdaJuN.twlQOOjy6E2d8Vw0vbtai4I7u4TToJBKFBgK' (Size = 4000), @p5='User' (Size = 4000), @p6='1000', @p7='mari' (Size = 4000), @p8='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 10:35:10.8708 DEBUG The foreign key property 'Person.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2024-03-29 10:35:10.8708 DEBUG A data reader was disposed.
2024-03-29 10:35:10.8708 DEBUG Committing transaction.
2024-03-29 10:35:10.8708 DEBUG Committed transaction.
2024-03-29 10:35:10.8708 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.8708 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:10.8708 DEBUG Disposing transaction.
2024-03-29 10:35:10.8895 DEBUG The 'Person' entity with key '{Id: 1}' tracked by 'PersonDbContext' changed state from 'Added' to 'Unchanged'.
2024-03-29 10:35:10.8895 DEBUG SaveChanges completed for 'PersonDbContext' with 1 entities written to the database.
2024-03-29 10:35:10.9085 INFO User mari registered successfully
2024-03-29 10:35:10.9167 INFO Executed action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1701.3643ms.
2024-03-29 10:35:10.9167 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:10.9167 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:10.9167 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:10.9167 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:10.9167 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:35:10.9167 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:10.9167 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:10.9167 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:35:10.9167 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:35:10.9167 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:35:10.9167 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 10:35:10.9167 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 10:35:10.9167 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 10:35:10.9167 INFO Executing OkObjectResult, writing value of type 'System.String'.
2024-03-29 10:35:10.9167 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:35:10.9167 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:10.9167 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:10.9167 INFO Executed action FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) in 1937.3745ms
2024-03-29 10:35:10.9167 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:35:10.9287 DEBUG Connection ID "18086456113720459653" disconnecting.
2024-03-29 10:35:10.9287 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:35:10.9287 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 145 - 200 - text/plain;+charset=utf-8 2130.0678ms
2024-03-29 10:35:31.9582 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 37
2024-03-29 10:35:31.9582 TRACE All hosts are allowed.
2024-03-29 10:35:31.9582 DEBUG POST requests are not supported
2024-03-29 10:35:31.9674 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/login'
2024-03-29 10:35:31.9674 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)' with route pattern 'api/PersonControler/login' is valid for the request path '/api/PersonControler/login'
2024-03-29 10:35:31.9674 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:35:31.9674 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:35:31.9674 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:35:31.9993 INFO Route matched with {action = "Login", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(FINAL2.Model.Login) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 10:35:31.9993 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:35:31.9993 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:35:31.9993 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:35:31.9993 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:35:31.9993 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:35:31.9993 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:35:31.9993 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:35:31.9993 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 10:35:32.0106 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' using the name '' in request data ...
2024-03-29 10:35:32.0106 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:35:32.0106 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Login'
2024-03-29 10:35:32.0106 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:35:32.0106 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:35:32.0106 DEBUG Attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 10:35:32.0106 DEBUG Done attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:35:32.0106 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:35:32.0106 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:32.0106 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:32.0106 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:32.0106 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:32.0106 INFO Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) - Validation state: Valid
2024-03-29 10:35:32.0106 TRACE Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) with arguments (FINAL2.Model.Login)
2024-03-29 10:35:32.0437 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:35:32.0437 DEBUG Compiling query expression: 
'DbSet<Person>()
    .FirstOrDefault(x => x.UserName == __loginperson_UserName_0)'
2024-03-29 10:35:32.0619 DEBUG Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Person>(
    asyncEnumerable: new SingleQueryingEnumerable<Person>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Person.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Person.Age (int) Required, 1], [Property: Person.Email (string), 2], [Property: Person.IsBlocked (bool) Required, 3], [Property: Person.Name (string), 4], [Property: Person.Password (string), 5], [Property: Person.Role (string), 6], [Property: Person.Salary (double) Required, 7], [Property: Person.Surname (string), 8], [Property: Person.UserName (string), 9], }
            SELECT TOP(1) p.Id, p.Age, p.Email, p.IsBlocked, p.Name, p.Password, p.Role, p.Salary, p.Surname, p.UserName
            FROM Persons AS p
            WHERE p.UserName == @__loginperson_UserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Person>, 
        FINAL2.Data.PersonDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 10:35:32.0619 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:35:32.0619 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:35:32.0619 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.0619 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.0619 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:35:32.0770 INFO Executed DbCommand (11ms) [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:35:32.0770 DEBUG A data reader was disposed.
2024-03-29 10:35:32.0770 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.0770 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.3945 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:35:32.3945 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:35:32.3945 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.3945 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.3945 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:35:32.3986 INFO Executed DbCommand (4ms) [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:35:32.3986 DEBUG A data reader was disposed.
2024-03-29 10:35:32.3986 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.3986 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:35:32.3986 INFO Executed action method FINAL2.Controllers.PersonControler.Login (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 388.441ms.
2024-03-29 10:35:32.3986 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:32.3986 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:35:32.3986 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:32.3986 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:35:32.3986 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:35:32.3986 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:32.3986 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:32.3986 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:35:32.3986 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:35:32.3986 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:35:32.3986 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 10:35:32.3986 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 10:35:32.3986 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 10:35:32.3986 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-29 10:35:32.3986 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:35:32.3986 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:32.3986 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:35:32.3986 INFO Executed action FINAL2.Controllers.PersonControler.Login (FINAL2) in 412.8601ms
2024-03-29 10:35:32.3986 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:35:32.4125 DEBUG Connection ID "18374686485577203992" disconnecting.
2024-03-29 10:35:32.4125 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:35:32.4125 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 37 - 200 - application/json;+charset=utf-8 454.6380ms
2024-03-29 10:37:29.7376 INFO Request starting HTTP/2 POST https://localhost:44391/api/Loan/block/User/1/1 - 0
2024-03-29 10:37:29.7376 TRACE All hosts are allowed.
2024-03-29 10:37:29.7376 DEBUG POST requests are not supported
2024-03-29 10:37:29.7493 DEBUG 1 candidate(s) found for the request path '/api/Loan/block/User/1/1'
2024-03-29 10:37:29.7493 DEBUG Endpoint 'FINAL2.Controllers.LoanController.BlockUserOrLoan (FINAL2)' with route pattern 'api/Loan/block/{type}/{id}/{period}' is valid for the request path '/api/Loan/block/User/1/1'
2024-03-29 10:37:29.7493 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.BlockUserOrLoan (FINAL2)'
2024-03-29 10:37:29.7585 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:37:29.7585 INFO Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Accountant)
2024-03-29 10:37:29.7585 INFO AuthenticationScheme: Bearer was challenged.
2024-03-29 10:37:29.7732 INFO Request finished HTTP/2 POST https://localhost:44391/api/Loan/block/User/1/1 - 0 - 401 - - 35.5045ms
2024-03-29 10:37:53.0487 INFO Request starting HTTP/1.1 PUT https://localhost:44391/api/Loan/block/User/1/1 application/json 350
2024-03-29 10:37:53.0487 TRACE All hosts are allowed.
2024-03-29 10:37:53.0487 DEBUG PUT requests are not supported
2024-03-29 10:37:53.0536 DEBUG 1 candidate(s) found for the request path '/api/Loan/block/User/1/1'
2024-03-29 10:37:53.0536 DEBUG Request matched endpoint '405 HTTP Method Not Supported'
2024-03-29 10:37:53.1012 INFO Successfully validated the token.
2024-03-29 10:37:53.1012 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:37:53.1012 INFO Executing endpoint '405 HTTP Method Not Supported'
2024-03-29 10:37:53.1012 INFO Executed endpoint '405 HTTP Method Not Supported'
2024-03-29 10:37:53.1012 INFO Request finished HTTP/1.1 PUT https://localhost:44391/api/Loan/block/User/1/1 application/json 350 - 405 - - 56.1140ms
2024-03-29 10:40:57.7309 INFO Request starting HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 328
2024-03-29 10:40:57.7309 TRACE All hosts are allowed.
2024-03-29 10:40:57.7309 DEBUG POST requests are not supported
2024-03-29 10:40:57.7309 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:40:57.7309 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:40:57.7309 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:40:57.7309 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:40:57.7407 INFO Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 10:40:57.7407 INFO AuthenticationScheme: Bearer was challenged.
2024-03-29 10:40:57.7407 INFO Request finished HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 328 - 401 - - 17.3602ms
2024-03-29 10:40:57.7407 DEBUG Connection ID "18158513720643289128" disconnecting.
2024-03-29 10:42:14.5595 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 346
2024-03-29 10:42:14.5595 TRACE All hosts are allowed.
2024-03-29 10:42:14.5595 DEBUG POST requests are not supported
2024-03-29 10:42:14.5595 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:42:14.5595 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:42:14.5595 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:14.5595 INFO Successfully validated the token.
2024-03-29 10:42:14.5595 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:42:14.5699 INFO Authorization was successful.
2024-03-29 10:42:14.5699 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:14.5699 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:42:14.5699 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:42:14.5699 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:42:14.5699 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:42:14.5699 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:42:14.5699 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:42:14.5699 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:42:14.5699 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:42:14.5699 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:42:14.5699 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:42:14.5699 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:14.5699 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:14.5699 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:42:14.5699 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:14.5699 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:42:14.5699 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:42:14.5699 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:42:14.6204 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:42:14.6204 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:14.6204 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:14.6204 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:42:14.6204 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:14.6204 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:14.6204 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:14.6204 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:14.6204 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:42:14.6204 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:14.6204 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:42:14.6204 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:14.6204 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:14.6204 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:14.6204 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:14.6204 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:42:14.6204 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:42:14.6204 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:42:14.6204 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:42:14.6204 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:42:14.6204 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:42:14.6378 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:42:14.6378 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:14.6378 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:14.6378 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 61.664ms
2024-03-29 10:42:14.6378 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:14.6378 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 346 - 400 - application/problem+json;+charset=utf-8 82.0055ms
2024-03-29 10:42:29.8647 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 344
2024-03-29 10:42:29.8647 TRACE All hosts are allowed.
2024-03-29 10:42:29.8647 DEBUG POST requests are not supported
2024-03-29 10:42:29.8647 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:42:29.8656 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:42:29.8656 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:29.8656 INFO Successfully validated the token.
2024-03-29 10:42:29.8656 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:42:29.8656 INFO Authorization was successful.
2024-03-29 10:42:29.8656 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:29.8656 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:42:29.8656 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:42:29.8656 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:42:29.8656 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:42:29.8656 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:42:29.8656 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:42:29.8656 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:42:29.8656 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:42:29.8656 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:42:29.8656 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:42:29.8656 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:29.8656 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:29.8656 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:42:29.8656 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:42:29.8656 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:42:29.8656 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:42:29.8656 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:42:29.8656 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:42:29.8656 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:29.8656 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:29.8656 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:42:29.8656 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:42:29.8656 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:29.8656 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:29.8656 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:29.8656 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:42:29.8656 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:29.8656 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:42:29.8656 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:29.8656 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:29.8656 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:29.8656 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:29.8656 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:42:29.8656 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:42:29.8656 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:42:29.8656 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:42:29.8656 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:42:29.8656 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:42:29.8656 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:42:29.8656 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:29.8656 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:29.8656 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 2.3446ms
2024-03-29 10:42:29.8656 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:42:29.8656 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 344 - 400 - application/problem+json;+charset=utf-8 7.2085ms
2024-03-29 10:42:59.3955 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 143
2024-03-29 10:42:59.3985 TRACE All hosts are allowed.
2024-03-29 10:42:59.3985 DEBUG POST requests are not supported
2024-03-29 10:42:59.3985 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/register'
2024-03-29 10:42:59.3985 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)' with route pattern 'api/PersonControler/register' is valid for the request path '/api/PersonControler/register'
2024-03-29 10:42:59.3985 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:42:59.3985 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:42:59.3985 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:42:59.3985 INFO Route matched with {action = "RegisterUser", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(FINAL2.Model.Register) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 10:42:59.3985 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:42:59.3985 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:42:59.3985 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:42:59.3985 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:42:59.3985 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:42:59.3985 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:42:59.3985 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:42:59.3985 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:42:59.3985 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' using the name '' in request data ...
2024-03-29 10:42:59.3985 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:42:59.3985 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Register'
2024-03-29 10:42:59.3985 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:42:59.3985 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:42:59.3985 DEBUG Attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:42:59.3985 DEBUG Done attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:42:59.3985 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:42:59.3985 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:59.3985 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:59.3985 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:59.3985 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:59.3985 INFO Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) - Validation state: Valid
2024-03-29 10:42:59.3985 TRACE Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) with arguments (FINAL2.Model.Register)
2024-03-29 10:42:59.4126 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:42:59.4126 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:42:59.4126 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:42:59.4126 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:42:59.4282 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:42:59.4282 DEBUG Executing DbCommand [Parameters=[@__user_Email_0='mari@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:42:59.4282 INFO Executed DbCommand (6ms) [Parameters=[@__user_Email_0='mari@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:42:59.4282 DEBUG A data reader was disposed.
2024-03-29 10:42:59.4282 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:42:59.4282 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:42:59.4282 INFO Executed action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2), returned result Microsoft.AspNetCore.Mvc.ConflictObjectResult in 31.3195ms.
2024-03-29 10:42:59.4282 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:59.4282 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:42:59.4282 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:59.4282 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:42:59.4282 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:42:59.4282 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:59.4282 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:59.4282 TRACE Before executing action result Microsoft.AspNetCore.Mvc.ConflictObjectResult.
2024-03-29 10:42:59.4282 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:42:59.4282 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:42:59.4282 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 10:42:59.4282 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 10:42:59.4282 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 10:42:59.4282 INFO Executing ConflictObjectResult, writing value of type 'System.String'.
2024-03-29 10:42:59.4282 TRACE After executing action result Microsoft.AspNetCore.Mvc.ConflictObjectResult.
2024-03-29 10:42:59.4282 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:59.4282 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:42:59.4282 INFO Executed action FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) in 33.4782ms
2024-03-29 10:42:59.4282 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:42:59.4282 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:42:59.4282 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 143 - 409 - text/plain;+charset=utf-8 40.4263ms
2024-03-29 10:42:59.4282 DEBUG Connection ID "18086456143785230514" disconnecting.
2024-03-29 10:43:08.2806 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 144
2024-03-29 10:43:08.2806 TRACE All hosts are allowed.
2024-03-29 10:43:08.2806 DEBUG POST requests are not supported
2024-03-29 10:43:08.2806 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/register'
2024-03-29 10:43:08.2806 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)' with route pattern 'api/PersonControler/register' is valid for the request path '/api/PersonControler/register'
2024-03-29 10:43:08.2806 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:43:08.2806 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:43:08.2806 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:43:08.2806 INFO Route matched with {action = "RegisterUser", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(FINAL2.Model.Register) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 10:43:08.2806 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:43:08.2806 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:43:08.2806 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:43:08.2806 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:43:08.2806 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:43:08.2806 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:43:08.2806 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:43:08.2806 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:43:08.2806 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' using the name '' in request data ...
2024-03-29 10:43:08.2806 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:43:08.2806 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Register'
2024-03-29 10:43:08.2806 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:43:08.2806 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:43:08.2806 DEBUG Attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 10:43:08.2806 DEBUG Done attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 10:43:08.2806 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:43:08.2806 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:08.2806 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:08.2806 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:08.2806 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:08.2806 INFO Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) - Validation state: Valid
2024-03-29 10:43:08.2806 TRACE Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) with arguments (FINAL2.Model.Register)
2024-03-29 10:43:08.2806 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:43:08.2806 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:43:08.2806 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:43:08.2806 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.2806 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.2806 DEBUG Executing DbCommand [Parameters=[@__user_Email_0='mari1@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:43:08.2893 INFO Executed DbCommand (4ms) [Parameters=[@__user_Email_0='mari1@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 10:43:08.2893 DEBUG A data reader was disposed.
2024-03-29 10:43:08.2893 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.2893 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.3795 DEBUG '"PersonDbContext"' generated temporary value '-2147482646' for the property '"Id"."Person"'.
2024-03-29 10:43:08.3795 DEBUG Context 'PersonDbContext' started tracking 'Person' entity with key '{Id: -2147482646}'.
2024-03-29 10:43:08.3795 DEBUG SaveChanges starting for 'PersonDbContext'.
2024-03-29 10:43:08.3795 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 10:43:08.3795 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 10:43:08.3795 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.3795 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.3795 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-29 10:43:08.3813 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-29 10:43:08.3813 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:43:08.3813 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:43:08.3813 DEBUG Executing DbCommand [Parameters=[@p0='10', @p1='mari1@.com' (Size = 4000), @p2='False', @p3='mari' (Size = 4000), @p4='$2a$10$m7Mdjk1ygO6NThmcY94DcO0iXtj5orReMhsesOgmLALB6j2EVfE1G' (Size = 4000), @p5='User' (Size = 4000), @p6='1000', @p7='mari' (Size = 4000), @p8='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 10:43:08.3813 INFO Executed DbCommand (3ms) [Parameters=[@p0='10', @p1='mari1@.com' (Size = 4000), @p2='False', @p3='mari' (Size = 4000), @p4='$2a$10$m7Mdjk1ygO6NThmcY94DcO0iXtj5orReMhsesOgmLALB6j2EVfE1G' (Size = 4000), @p5='User' (Size = 4000), @p6='1000', @p7='mari' (Size = 4000), @p8='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 10:43:08.3813 DEBUG The foreign key property 'Person.Id' was detected as changed from '-2147482646' to '2' for entity with key '{Id: 2}'.
2024-03-29 10:43:08.3813 DEBUG A data reader was disposed.
2024-03-29 10:43:08.3813 DEBUG Committing transaction.
2024-03-29 10:43:08.3813 DEBUG Committed transaction.
2024-03-29 10:43:08.3813 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.3813 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:08.3813 DEBUG Disposing transaction.
2024-03-29 10:43:08.3813 DEBUG The 'Person' entity with key '{Id: 2}' tracked by 'PersonDbContext' changed state from 'Added' to 'Unchanged'.
2024-03-29 10:43:08.3813 DEBUG SaveChanges completed for 'PersonDbContext' with 1 entities written to the database.
2024-03-29 10:43:08.3813 INFO User mari registered successfully
2024-03-29 10:43:08.3813 INFO Executed action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 103.7094ms.
2024-03-29 10:43:08.3813 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:08.3813 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:08.3813 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:08.3813 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:08.3813 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:43:08.3813 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:08.3813 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:08.3813 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:43:08.3813 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:43:08.3813 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:43:08.3813 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 10:43:08.3813 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 10:43:08.3813 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 10:43:08.3813 INFO Executing OkObjectResult, writing value of type 'System.String'.
2024-03-29 10:43:08.3813 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:43:08.3813 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:08.3813 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:08.3813 INFO Executed action FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) in 106.0856ms
2024-03-29 10:43:08.3813 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 10:43:08.3813 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:43:08.3813 DEBUG Connection ID "17870283331606675532" disconnecting.
2024-03-29 10:43:08.3813 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 144 - 200 - text/plain;+charset=utf-8 108.1573ms
2024-03-29 10:43:25.0094 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 37
2024-03-29 10:43:25.0094 TRACE All hosts are allowed.
2024-03-29 10:43:25.0094 DEBUG POST requests are not supported
2024-03-29 10:43:25.0094 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/login'
2024-03-29 10:43:25.0094 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)' with route pattern 'api/PersonControler/login' is valid for the request path '/api/PersonControler/login'
2024-03-29 10:43:25.0094 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:43:25.0094 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:43:25.0094 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:43:25.0094 INFO Route matched with {action = "Login", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(FINAL2.Model.Login) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 10:43:25.0094 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:43:25.0094 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:43:25.0094 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:43:25.0094 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:43:25.0094 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:43:25.0094 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:43:25.0094 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 10:43:25.0094 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 10:43:25.0094 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' using the name '' in request data ...
2024-03-29 10:43:25.0094 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:43:25.0094 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Login'
2024-03-29 10:43:25.0094 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:43:25.0094 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:43:25.0094 DEBUG Attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 10:43:25.0094 DEBUG Done attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 10:43:25.0094 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:43:25.0094 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:25.0094 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:25.0094 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:25.0094 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:25.0094 INFO Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) - Validation state: Valid
2024-03-29 10:43:25.0094 TRACE Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) with arguments (FINAL2.Model.Login)
2024-03-29 10:43:25.0094 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 10:43:25.0094 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:43:25.0094 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:43:25.0094 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.0094 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.0094 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:43:25.0094 INFO Executed DbCommand (6ms) [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:43:25.0094 DEBUG A data reader was disposed.
2024-03-29 10:43:25.0094 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.0094 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.1018 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 10:43:25.1018 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 10:43:25.1018 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.1018 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.1018 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:43:25.1018 INFO Executed DbCommand (2ms) [Parameters=[@__loginperson_UserName_0='mari' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 10:43:25.1018 DEBUG A data reader was disposed.
2024-03-29 10:43:25.1018 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.1018 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 10:43:25.1018 INFO Executed action method FINAL2.Controllers.PersonControler.Login (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.5396ms.
2024-03-29 10:43:25.1018 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:25.1018 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:25.1018 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:25.1018 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:25.1018 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 10:43:25.1018 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:25.1018 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:25.1018 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:43:25.1018 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:43:25.1018 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:43:25.1018 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 10:43:25.1018 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 10:43:25.1018 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 10:43:25.1018 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-29 10:43:25.1018 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 10:43:25.1018 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:25.1018 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:25.1018 INFO Executed action FINAL2.Controllers.PersonControler.Login (FINAL2) in 94.0355ms
2024-03-29 10:43:25.1018 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 10:43:25.1018 DEBUG 'PersonDbContext' disposed.
2024-03-29 10:43:25.1018 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 37 - 200 - application/json;+charset=utf-8 96.0631ms
2024-03-29 10:43:25.1018 DEBUG Connection ID "18230571293206380944" disconnecting.
2024-03-29 10:43:58.2872 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 345
2024-03-29 10:43:58.2877 TRACE All hosts are allowed.
2024-03-29 10:43:58.2877 DEBUG POST requests are not supported
2024-03-29 10:43:58.2877 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:43:58.2877 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:43:58.2877 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:43:58.2877 INFO Successfully validated the token.
2024-03-29 10:43:58.2877 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:43:58.2877 INFO Authorization was successful.
2024-03-29 10:43:58.2877 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:43:58.2877 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:43:58.2877 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:43:58.2877 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:43:58.2877 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:43:58.2877 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:43:58.2877 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:43:58.2877 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:43:58.2877 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:43:58.2877 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:43:58.2877 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:43:58.2877 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:43:58.2877 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:43:58.2877 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:43:58.2877 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:43:58.2877 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:43:58.2877 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:43:58.2877 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:43:58.2877 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:43:58.2877 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:43:58.2877 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:43:58.2877 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:43:58.2877 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:43:58.2877 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:58.2877 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:58.2877 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:58.2877 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:43:58.2877 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:43:58.2877 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:43:58.2877 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:58.2877 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:43:58.2877 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:58.2877 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:58.2877 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:43:58.2877 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:43:58.2877 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:43:58.2877 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:43:58.2877 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:43:58.2877 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:43:58.2877 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:43:58.2877 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:58.2877 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:43:58.2877 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 4.2965ms
2024-03-29 10:43:58.2877 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:43:58.2877 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 345 - 400 - application/problem+json;+charset=utf-8 13.5376ms
2024-03-29 10:44:21.7806 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345
2024-03-29 10:44:21.7806 TRACE All hosts are allowed.
2024-03-29 10:44:21.7806 DEBUG POST requests are not supported
2024-03-29 10:44:21.7806 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:44:21.7806 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:44:21.7806 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:21.7806 INFO Successfully validated the token.
2024-03-29 10:44:21.7806 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:44:21.7806 INFO Authorization was successful.
2024-03-29 10:44:21.7806 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:21.7806 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:44:21.7806 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:44:21.7806 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:44:21.7806 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:44:21.7806 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:44:21.7806 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:44:21.7806 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:21.7806 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:21.7806 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:21.7806 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:44:21.7806 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:21.7806 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:21.7806 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:21.7806 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:21.7806 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:21.7806 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:44:21.7806 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:44:21.7806 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:44:21.7806 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:21.7806 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:21.7806 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:21.7806 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:21.7806 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:21.7806 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:21.7806 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:21.7806 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:44:21.7806 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:21.7806 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:44:21.7806 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:21.7806 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:21.7806 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:21.7806 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:21.7806 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:21.7806 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:44:21.7806 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:44:21.7806 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:44:21.7806 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:44:21.7806 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:44:21.7806 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:21.7806 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:21.7806 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:21.7806 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 2.3401ms
2024-03-29 10:44:21.7806 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:21.7876 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345 - 400 - application/problem+json;+charset=utf-8 6.9958ms
2024-03-29 10:44:23.1974 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345
2024-03-29 10:44:23.1974 TRACE All hosts are allowed.
2024-03-29 10:44:23.1974 DEBUG POST requests are not supported
2024-03-29 10:44:23.1974 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:44:23.1974 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:44:23.1974 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:23.1974 INFO Successfully validated the token.
2024-03-29 10:44:23.1974 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:44:23.2118 INFO Authorization was successful.
2024-03-29 10:44:23.2118 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:23.2118 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:44:23.2118 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:44:23.2118 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:44:23.2118 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:44:23.2118 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:44:23.2118 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:44:23.2118 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:23.2118 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:23.2118 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:23.2118 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:44:23.2118 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:23.2118 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:23.2118 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:23.2118 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:23.2118 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:23.2118 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:44:23.2118 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:44:23.2118 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:44:23.2118 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:23.2118 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:23.2118 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:23.2118 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:23.2118 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:23.2118 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:23.2118 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:23.2118 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:44:23.2118 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:23.2118 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:44:23.2118 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:23.2118 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:23.2118 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:23.2118 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:23.2118 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:23.2118 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:44:23.2118 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:44:23.2118 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:44:23.2118 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:44:23.2118 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:44:23.2118 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:23.2118 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:23.2118 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:23.2118 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 2.6836ms
2024-03-29 10:44:23.2118 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:23.2118 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345 - 400 - application/problem+json;+charset=utf-8 19.6464ms
2024-03-29 10:44:25.0903 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345
2024-03-29 10:44:25.0903 TRACE All hosts are allowed.
2024-03-29 10:44:25.0903 DEBUG POST requests are not supported
2024-03-29 10:44:25.0903 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:44:25.0903 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:44:25.0903 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:25.0903 INFO Successfully validated the token.
2024-03-29 10:44:25.0903 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:44:25.0903 INFO Authorization was successful.
2024-03-29 10:44:25.0903 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:25.0903 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:44:25.0903 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:44:25.0903 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:44:25.0903 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:44:25.0903 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:44:25.0903 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:44:25.0903 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:25.0903 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:25.0903 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:25.0903 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:44:25.0903 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:25.0903 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:25.0903 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:25.0903 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:25.0903 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:25.0903 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:44:25.0903 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:44:25.0903 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:44:25.0903 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:25.0903 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:25.0903 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:25.0903 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:25.0903 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:25.0903 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:25.0903 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:25.0903 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:44:25.0903 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:25.0903 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:44:25.0903 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:25.0903 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:25.0903 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:25.0903 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:25.0903 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:25.0903 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:44:25.0903 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:44:25.0903 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:44:25.0903 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:44:25.0903 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:44:25.0903 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:25.0903 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:25.0903 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:25.0903 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 2.923ms
2024-03-29 10:44:25.0903 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:25.0903 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345 - 400 - application/problem+json;+charset=utf-8 5.4784ms
2024-03-29 10:44:26.4304 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345
2024-03-29 10:44:26.4304 TRACE All hosts are allowed.
2024-03-29 10:44:26.4304 DEBUG POST requests are not supported
2024-03-29 10:44:26.4304 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:44:26.4304 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:44:26.4304 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:26.4304 INFO Successfully validated the token.
2024-03-29 10:44:26.4304 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 10:44:26.4304 INFO Authorization was successful.
2024-03-29 10:44:26.4304 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:26.4304 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 10:44:26.4304 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 10:44:26.4304 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 10:44:26.4304 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 10:44:26.4304 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 10:44:26.4304 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 10:44:26.4304 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:26.4304 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 10:44:26.4304 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:26.4304 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 10:44:26.4304 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:26.4304 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:26.4304 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 10:44:26.4304 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 10:44:26.4304 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:26.4304 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 10:44:26.4304 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 10:44:26.4304 DEBUG JSON input formatter threw an exception: Expected depth to be zero at the end of the JSON payload. There is an open JSON object or array that should be closed. Path: $ | LineNumber: 18 | BytePositionInLine: 23.
2024-03-29 10:44:26.4304 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:26.4304 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:26.4304 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 10:44:26.4304 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 10:44:26.4304 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:26.4304 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:26.4304 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:26.4304 DEBUG The request has model state errors, returning an error response.
2024-03-29 10:44:26.4304 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 10:44:26.4304 DEBUG Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-03-29 10:44:26.4304 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:26.4304 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 10:44:26.4304 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:26.4304 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:26.4304 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:26.4304 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 10:44:26.4304 DEBUG No information found on request to perform content negotiation.
2024-03-29 10:44:26.4304 DEBUG Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types 'application/problem+json, application/problem+xml'.
2024-03-29 10:44:26.4304 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-03-29 10:44:26.4304 INFO Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-03-29 10:44:26.4304 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 10:44:26.4304 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:26.4304 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 10:44:26.4304 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 2.6292ms
2024-03-29 10:44:26.4304 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:44:26.4304 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=2 application/json 345 - 400 - application/problem+json;+charset=utf-8 4.4872ms
2024-03-29 10:47:58.5179 INFO Request starting HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 342
2024-03-29 10:47:58.5179 TRACE All hosts are allowed.
2024-03-29 10:47:58.5179 DEBUG POST requests are not supported
2024-03-29 10:47:58.5179 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 10:47:58.5179 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 10:47:58.5179 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 10:47:58.5179 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 10:47:58.5179 INFO Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 10:47:58.5179 INFO AuthenticationScheme: Bearer was challenged.
2024-03-29 10:47:58.5220 DEBUG Connection ID "18158513703463420029" disconnecting.
2024-03-29 10:47:58.5220 INFO Request finished HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 342 - 401 - - 4.0955ms
2024-03-29 11:05:32.0588 DEBUG Hosting starting
2024-03-29 11:05:32.1361 INFO User profile is available. Using 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-03-29 11:05:32.1361 DEBUG Reading data from file 'C:\Users\lenovo\AppData\Local\ASP.NET\DataProtection-Keys\key-9d0d177f-9704-4297-b5e6-7802b1317f7a.xml'.
2024-03-29 11:05:32.1636 DEBUG Found key {9d0d177f-9704-4297-b5e6-7802b1317f7a}.
2024-03-29 11:05:32.1636 DEBUG Considering key {9d0d177f-9704-4297-b5e6-7802b1317f7a} with expiration date 2024-05-13 09:37:47Z as default key.
2024-03-29 11:05:32.2192 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 11:05:32.2192 DEBUG Decrypting secret element using Windows DPAPI.
2024-03-29 11:05:32.2192 DEBUG Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-03-29 11:05:32.2192 DEBUG Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-03-29 11:05:32.2259 DEBUG Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-03-29 11:05:32.2259 DEBUG Using key {9d0d177f-9704-4297-b5e6-7802b1317f7a} as the default key.
2024-03-29 11:05:32.2259 DEBUG Key ring with default key {9d0d177f-9704-4297-b5e6-7802b1317f7a} was loaded during application startup.
2024-03-29 11:05:32.4958 DEBUG Loaded hosting startup assembly FINAL2
2024-03-29 11:05:32.4958 DEBUG Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-03-29 11:05:32.4958 DEBUG Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-03-29 11:05:32.4958 INFO Application started. Press Ctrl+C to shut down.
2024-03-29 11:05:32.4958 INFO Hosting environment: Development
2024-03-29 11:05:32.4958 INFO Content root path: C:\Users\lenovo\source\repos\FINAL2\FINAL2
2024-03-29 11:05:32.4958 DEBUG Hosting started
2024-03-29 11:05:32.5350 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/index.html - -
2024-03-29 11:05:32.7018 DEBUG Wildcard detected, all requests with hosts will be allowed.
2024-03-29 11:05:32.7018 TRACE All hosts are allowed.
2024-03-29 11:05:32.7998 DEBUG Response markup is scheduled to include browser refresh script injection.
2024-03-29 11:05:32.8392 DEBUG Response markup was updated to include browser refresh script injection.
2024-03-29 11:05:32.8524 DEBUG Connection ID "18302628930193981563" disconnecting.
2024-03-29 11:05:32.8524 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/index.html - - - 200 - text/html;charset=utf-8 319.8059ms
2024-03-29 11:05:32.8524 INFO Request starting HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - -
2024-03-29 11:05:32.8524 INFO Request starting HTTP/2 GET https://localhost:44391/_vs/browserLink - -
2024-03-29 11:05:32.8709 DEBUG Connection ID "18302628900129210872" disconnecting.
2024-03-29 11:05:32.8845 INFO Request finished HTTP/2 GET https://localhost:44391/_framework/aspnetcore-browser-refresh.js - - - 200 12344 application/javascript;+charset=utf-8 29.0185ms
2024-03-29 11:05:32.9332 DEBUG Connection ID "18014398536862400594" disconnecting.
2024-03-29 11:05:32.9332 INFO Request finished HTTP/2 GET https://localhost:44391/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 77.7283ms
2024-03-29 11:05:33.0237 INFO Request starting HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - -
2024-03-29 11:05:33.0237 TRACE All hosts are allowed.
2024-03-29 11:05:33.1544 DEBUG Connection ID "17870283340196610183" disconnecting.
2024-03-29 11:05:33.1544 INFO Request finished HTTP/2 GET https://localhost:44391/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 130.7954ms
2024-03-29 11:09:15.3243 INFO Request starting HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 259
2024-03-29 11:09:15.3243 TRACE All hosts are allowed.
2024-03-29 11:09:15.3243 DEBUG POST requests are not supported
2024-03-29 11:09:15.3735 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 11:09:15.3735 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 11:09:15.3735 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:09:15.4546 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 11:09:15.4546 INFO Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 11:09:15.4659 INFO AuthenticationScheme: Bearer was challenged.
2024-03-29 11:09:15.4659 DEBUG Connection ID "18158513707758387405" disconnecting.
2024-03-29 11:09:15.4659 INFO Request finished HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 259 - 401 - - 143.0045ms
2024-03-29 11:11:20.8497 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 43
2024-03-29 11:11:20.8497 TRACE All hosts are allowed.
2024-03-29 11:11:20.8497 DEBUG POST requests are not supported
2024-03-29 11:11:20.8497 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/login'
2024-03-29 11:11:20.8497 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)' with route pattern 'api/PersonControler/login' is valid for the request path '/api/PersonControler/login'
2024-03-29 11:11:20.8497 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:11:20.8657 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 11:11:20.8657 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:11:20.8657 DEBUG Registered model binder providers, in the following order: Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider, Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider
2024-03-29 11:11:20.8962 INFO Route matched with {action = "Login", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(FINAL2.Model.Login) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 11:11:20.8962 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 11:11:20.8962 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 11:11:20.8971 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 11:11:20.8971 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 11:11:20.8971 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 11:11:20.8971 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:11:21.0254 DEBUG An 'IServiceProvider' was created for internal use by Entity Framework.
2024-03-29 11:11:21.0444 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:11:21.0444 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 11:11:21.0444 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' using the name '' in request data ...
2024-03-29 11:11:21.0444 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 11:11:21.0547 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Login'
2024-03-29 11:11:21.0547 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:11:21.0547 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:11:21.0547 DEBUG Attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 11:11:21.0547 DEBUG Done attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:11:21.0547 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:11:21.0547 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:11:21.0547 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:11:21.0547 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:11:21.0547 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:11:21.0547 INFO Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) - Validation state: Valid
2024-03-29 11:11:21.0547 TRACE Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) with arguments (FINAL2.Model.Login)
2024-03-29 11:11:21.5134 WARN Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-03-29 11:11:21.6151 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 11:11:21.6779 DEBUG Compiling query expression: 
'DbSet<Person>()
    .FirstOrDefault(x => x.UserName == __loginperson_UserName_0)'
2024-03-29 11:11:21.8096 DEBUG Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Person>(
    asyncEnumerable: new SingleQueryingEnumerable<Person>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Person.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Person.Age (int) Required, 1], [Property: Person.Email (string), 2], [Property: Person.IsBlocked (bool) Required, 3], [Property: Person.Name (string), 4], [Property: Person.Password (string), 5], [Property: Person.Role (string), 6], [Property: Person.Salary (double) Required, 7], [Property: Person.Surname (string), 8], [Property: Person.UserName (string), 9], }
            SELECT TOP(1) p.Id, p.Age, p.Email, p.IsBlocked, p.Name, p.Password, p.Role, p.Salary, p.Surname, p.UserName
            FROM Persons AS p
            WHERE p.UserName == @__loginperson_UserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Person>, 
        FINAL2.Data.PersonDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 11:11:21.8546 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:11:21.8860 DEBUG Created DbCommand for 'ExecuteReader' (30ms).
2024-03-29 11:11:21.8860 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:11:22.1062 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:11:22.1173 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:11:22.1561 INFO Executed DbCommand (44ms) [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:11:22.1664 DEBUG A data reader was disposed.
2024-03-29 11:11:22.1664 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:11:22.1664 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:11:22.1664 INFO Executed action method FINAL2.Controllers.PersonControler.Login (FINAL2), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 1112.8937ms.
2024-03-29 11:11:22.1664 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:11:22.1664 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:11:22.1664 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:11:22.1664 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:11:22.1664 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:11:22.1664 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:11:22.1664 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:11:22.1784 TRACE Before executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult.
2024-03-29 11:11:22.1784 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 11:11:22.1784 DEBUG No information found on request to perform content negotiation.
2024-03-29 11:11:22.1784 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 11:11:22.1784 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 11:11:22.1784 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 11:11:22.1784 INFO Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-03-29 11:11:22.1784 TRACE After executing action result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult.
2024-03-29 11:11:22.1784 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:11:22.1784 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:11:22.1784 INFO Executed action FINAL2.Controllers.PersonControler.Login (FINAL2) in 1286.4022ms
2024-03-29 11:11:22.1784 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:11:22.1784 DEBUG Connection ID "18086456143785230520" disconnecting.
2024-03-29 11:11:22.1784 DEBUG 'PersonDbContext' disposed.
2024-03-29 11:11:22.1784 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 43 - 401 - text/plain;+charset=utf-8 1341.2863ms
2024-03-29 11:12:54.9479 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 165
2024-03-29 11:12:54.9479 TRACE All hosts are allowed.
2024-03-29 11:12:54.9479 DEBUG POST requests are not supported
2024-03-29 11:12:54.9479 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/register'
2024-03-29 11:12:54.9479 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)' with route pattern 'api/PersonControler/register' is valid for the request path '/api/PersonControler/register'
2024-03-29 11:12:54.9479 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 11:12:54.9479 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 11:12:54.9479 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 11:12:54.9603 INFO Route matched with {action = "RegisterUser", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(FINAL2.Model.Register) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 11:12:54.9603 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 11:12:54.9603 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 11:12:54.9603 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 11:12:54.9603 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 11:12:54.9603 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 11:12:54.9603 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:12:54.9603 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:12:54.9603 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 11:12:54.9603 DEBUG Attempting to bind parameter 'user' of type 'FINAL2.Model.Register' using the name '' in request data ...
2024-03-29 11:12:54.9603 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 11:12:54.9888 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Register'
2024-03-29 11:12:54.9888 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 11:12:54.9888 DEBUG Done attempting to bind parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 11:12:54.9888 DEBUG Attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register' ...
2024-03-29 11:12:54.9888 DEBUG Done attempting to validate the bound parameter 'user' of type 'FINAL2.Model.Register'.
2024-03-29 11:12:54.9888 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:12:54.9888 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:12:54.9888 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:12:54.9888 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:12:54.9888 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:12:54.9888 INFO Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) - Validation state: Valid
2024-03-29 11:12:54.9888 TRACE Executing action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) with arguments (FINAL2.Model.Register)
2024-03-29 11:12:55.0222 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 11:12:55.0222 DEBUG Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Email == __user_Email_0)'
2024-03-29 11:12:55.0222 DEBUG Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM Persons AS p
                WHERE p.Email == @__user_Email_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        FINAL2.Data.PersonDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 11:12:55.0222 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:12:55.0222 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:12:55.0222 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.0222 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.0222 DEBUG Executing DbCommand [Parameters=[@__user_Email_0='mariami1@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 11:12:55.0395 INFO Executed DbCommand (5ms) [Parameters=[@__user_Email_0='mariami1@.com' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Persons] AS [p]
        WHERE [p].[Email] = @__user_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-03-29 11:12:55.0395 DEBUG A data reader was disposed.
2024-03-29 11:12:55.0395 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.0395 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.1435 DEBUG '"PersonDbContext"' generated temporary value '-2147482647' for the property '"Id"."Person"'.
2024-03-29 11:12:55.1900 DEBUG Context 'PersonDbContext' started tracking 'Person' entity with key '{Id: -2147482647}'.
2024-03-29 11:12:55.1900 DEBUG SaveChanges starting for 'PersonDbContext'.
2024-03-29 11:12:55.1900 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 11:12:55.2033 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 11:12:55.2193 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.2193 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.2193 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-29 11:12:55.2255 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-29 11:12:55.2519 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:12:55.2519 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:12:55.2519 DEBUG Executing DbCommand [Parameters=[@p0='10', @p1='mariami1@.com' (Size = 4000), @p2='False', @p3='mariami' (Size = 4000), @p4='$2a$10$4MIbBaDW1AQqM.tdh4wIl.EILPkmC23wE1WYB6Ej8bvRrZw/zByxO' (Size = 4000), @p5='Accountant' (Size = 4000), @p6='1000', @p7='mariami' (Size = 4000), @p8='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 11:12:55.2519 INFO Executed DbCommand (3ms) [Parameters=[@p0='10', @p1='mariami1@.com' (Size = 4000), @p2='False', @p3='mariami' (Size = 4000), @p4='$2a$10$4MIbBaDW1AQqM.tdh4wIl.EILPkmC23wE1WYB6Ej8bvRrZw/zByxO' (Size = 4000), @p5='Accountant' (Size = 4000), @p6='1000', @p7='mariami' (Size = 4000), @p8='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Persons] ([Age], [Email], [IsBlocked], [Name], [Password], [Role], [Salary], [Surname], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Persons]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 11:12:55.2746 DEBUG The foreign key property 'Person.Id' was detected as changed from '-2147482647' to '3' for entity with key '{Id: 3}'.
2024-03-29 11:12:55.2746 DEBUG A data reader was disposed.
2024-03-29 11:12:55.2746 DEBUG Committing transaction.
2024-03-29 11:12:55.2939 DEBUG Committed transaction.
2024-03-29 11:12:55.2939 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.2939 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:12:55.2939 DEBUG Disposing transaction.
2024-03-29 11:12:55.3103 DEBUG The 'Person' entity with key '{Id: 3}' tracked by 'PersonDbContext' changed state from 'Added' to 'Unchanged'.
2024-03-29 11:12:55.3103 DEBUG SaveChanges completed for 'PersonDbContext' with 1 entities written to the database.
2024-03-29 11:12:55.3211 INFO User mariami registered successfully
2024-03-29 11:12:55.3211 INFO Executed action method FINAL2.Controllers.PersonControler.RegisterUser (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 331.1024ms.
2024-03-29 11:12:55.3211 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:12:55.3211 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:12:55.3211 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:12:55.3211 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:12:55.3211 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:12:55.3211 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:12:55.3211 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:12:55.3211 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:12:55.3211 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 11:12:55.3211 DEBUG No information found on request to perform content negotiation.
2024-03-29 11:12:55.3211 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 11:12:55.3211 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 11:12:55.3211 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 11:12:55.3211 INFO Executing OkObjectResult, writing value of type 'System.String'.
2024-03-29 11:12:55.3211 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:12:55.3211 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:12:55.3211 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:12:55.3211 INFO Executed action FINAL2.Controllers.PersonControler.RegisterUser (FINAL2) in 361.5485ms
2024-03-29 11:12:55.3211 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.RegisterUser (FINAL2)'
2024-03-29 11:12:55.3211 DEBUG 'PersonDbContext' disposed.
2024-03-29 11:12:55.3211 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/register application/json 165 - 200 - text/plain;+charset=utf-8 376.0954ms
2024-03-29 11:12:55.3211 DEBUG Connection ID "18374686515641975019" disconnecting.
2024-03-29 11:13:03.3815 INFO Request starting HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 43
2024-03-29 11:13:03.3815 TRACE All hosts are allowed.
2024-03-29 11:13:03.3815 DEBUG POST requests are not supported
2024-03-29 11:13:03.3815 DEBUG 1 candidate(s) found for the request path '/api/PersonControler/login'
2024-03-29 11:13:03.3815 DEBUG Endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)' with route pattern 'api/PersonControler/login' is valid for the request path '/api/PersonControler/login'
2024-03-29 11:13:03.3815 DEBUG Request matched endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:13:03.3815 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 11:13:03.3815 INFO Executing endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:13:03.3815 INFO Route matched with {action = "Login", controller = "PersonControler"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(FINAL2.Model.Login) on controller FINAL2.Controllers.PersonControler (FINAL2).
2024-03-29 11:13:03.3815 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 11:13:03.3815 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 11:13:03.3815 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 11:13:03.3815 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 11:13:03.3815 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 11:13:03.3815 DEBUG Executing controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:13:03.3815 DEBUG Executed controller factory for controller FINAL2.Controllers.PersonControler (FINAL2)
2024-03-29 11:13:03.3815 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 11:13:03.3815 DEBUG Attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login' using the name '' in request data ...
2024-03-29 11:13:03.3815 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 11:13:03.3815 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Login'
2024-03-29 11:13:03.3815 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:13:03.3815 DEBUG Done attempting to bind parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:13:03.3815 DEBUG Attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login' ...
2024-03-29 11:13:03.3815 DEBUG Done attempting to validate the bound parameter 'loginperson' of type 'FINAL2.Model.Login'.
2024-03-29 11:13:03.3815 TRACE Action Filter: Before executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:13:03.3815 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:13:03.3815 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:13:03.3815 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:13:03.3815 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:13:03.3815 INFO Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) - Validation state: Valid
2024-03-29 11:13:03.3815 TRACE Executing action method FINAL2.Controllers.PersonControler.Login (FINAL2) with arguments (FINAL2.Model.Login)
2024-03-29 11:13:03.3815 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 11:13:03.3989 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:13:03.3989 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:13:03.3989 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.3989 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.3989 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:13:03.3989 INFO Executed DbCommand (6ms) [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:13:03.3989 DEBUG A data reader was disposed.
2024-03-29 11:13:03.3989 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.3989 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.6197 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:13:03.6197 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:13:03.6197 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.6197 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.6197 DEBUG Executing DbCommand [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:13:03.6197 INFO Executed DbCommand (3ms) [Parameters=[@__loginperson_UserName_0='mariami' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[UserName] = @__loginperson_UserName_0
2024-03-29 11:13:03.6197 DEBUG A data reader was disposed.
2024-03-29 11:13:03.6197 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.6197 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:13:03.6197 INFO Executed action method FINAL2.Controllers.PersonControler.Login (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 237.7702ms.
2024-03-29 11:13:03.6197 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:13:03.6197 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:13:03.6197 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:13:03.6197 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:13:03.6197 TRACE Action Filter: After executing OnActionExecutionAsync on filter Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter.
2024-03-29 11:13:03.6197 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:13:03.6197 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:13:03.6197 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:13:03.6197 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 11:13:03.6197 DEBUG No information found on request to perform content negotiation.
2024-03-29 11:13:03.6197 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 11:13:03.6197 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 11:13:03.6197 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 11:13:03.6197 INFO Executing OkObjectResult, writing value of type '<>f__AnonymousType0`4[[System.Int32, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-03-29 11:13:03.6336 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:13:03.6336 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:13:03.6336 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:13:03.6336 INFO Executed action FINAL2.Controllers.PersonControler.Login (FINAL2) in 249.9089ms
2024-03-29 11:13:03.6336 INFO Executed endpoint 'FINAL2.Controllers.PersonControler.Login (FINAL2)'
2024-03-29 11:13:03.6336 DEBUG 'PersonDbContext' disposed.
2024-03-29 11:13:03.6336 INFO Request finished HTTP/2 POST https://localhost:44391/api/PersonControler/login application/json 43 - 200 - application/json;+charset=utf-8 252.3819ms
2024-03-29 11:13:03.6336 DEBUG Connection ID "18302628887244309105" disconnecting.
2024-03-29 11:13:23.5790 INFO Request starting HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=3 application/json 260
2024-03-29 11:13:23.5790 TRACE All hosts are allowed.
2024-03-29 11:13:23.5790 DEBUG POST requests are not supported
2024-03-29 11:13:23.5790 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 11:13:23.5790 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 11:13:23.5790 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:13:23.5790 DEBUG AuthenticationScheme: Bearer was not authenticated.
2024-03-29 11:13:23.5790 INFO Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-03-29 11:13:23.5790 INFO AuthenticationScheme: Bearer was challenged.
2024-03-29 11:13:23.5790 INFO Request finished HTTP/2 POST https://localhost:44391/api/Loan/addloan?id=3 application/json 260 - 401 - - 3.7199ms
2024-03-29 11:13:23.5790 DEBUG Connection ID "18374686494167138588" disconnecting.
2024-03-29 11:14:34.7020 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 376
2024-03-29 11:14:34.7020 TRACE All hosts are allowed.
2024-03-29 11:14:34.7020 DEBUG POST requests are not supported
2024-03-29 11:14:34.7020 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 11:14:34.7020 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 11:14:34.7020 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:34.7493 INFO Successfully validated the token.
2024-03-29 11:14:34.7493 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 11:14:34.7493 INFO Authorization was successful.
2024-03-29 11:14:34.7493 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:34.7493 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 11:14:34.7493 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 11:14:34.7493 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 11:14:34.7493 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 11:14:34.7493 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 11:14:34.7493 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 11:14:34.7493 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 11:14:34.7493 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 11:14:34.7493 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 11:14:34.7493 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 11:14:34.7493 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:34.7493 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:34.7493 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 11:14:34.7493 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:34.7493 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 11:14:34.7493 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 11:14:34.7493 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 11:14:34.7612 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Loan'
2024-03-29 11:14:34.7612 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:34.7612 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:34.7612 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 11:14:34.7612 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:34.7612 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:34.7612 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:34.7612 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:34.7612 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:34.7612 INFO Executing action method FINAL2.Controllers.LoanController.AddLoan (FINAL2) - Validation state: Valid
2024-03-29 11:14:34.7612 TRACE Executing action method FINAL2.Controllers.LoanController.AddLoan (FINAL2) with arguments (1, FINAL2.Model.Loan)
2024-03-29 11:14:34.8016 INFO Executed action method FINAL2.Controllers.LoanController.AddLoan (FINAL2), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 38.3427ms.
2024-03-29 11:14:34.8016 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:34.8016 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:34.8016 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:34.8016 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:34.8016 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:34.8016 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:34.8016 TRACE Before executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 11:14:34.8016 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 11:14:34.8016 DEBUG No information found on request to perform content negotiation.
2024-03-29 11:14:34.8016 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 11:14:34.8016 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 11:14:34.8016 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-03-29 11:14:34.8016 INFO Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-03-29 11:14:34.8016 TRACE After executing action result Microsoft.AspNetCore.Mvc.BadRequestObjectResult.
2024-03-29 11:14:34.8016 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:34.8016 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:34.8016 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 49.1092ms
2024-03-29 11:14:34.8016 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:34.8087 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 376 - 400 - text/plain;+charset=utf-8 107.4052ms
2024-03-29 11:14:55.7849 INFO Request starting HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 375
2024-03-29 11:14:55.7849 TRACE All hosts are allowed.
2024-03-29 11:14:55.7849 DEBUG POST requests are not supported
2024-03-29 11:14:55.7871 DEBUG 1 candidate(s) found for the request path '/api/Loan/addloan'
2024-03-29 11:14:55.7871 DEBUG Endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)' with route pattern 'api/Loan/addloan' is valid for the request path '/api/Loan/addloan'
2024-03-29 11:14:55.7871 DEBUG Request matched endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:55.8194 INFO Successfully validated the token.
2024-03-29 11:14:55.8194 DEBUG AuthenticationScheme: Bearer was successfully authenticated.
2024-03-29 11:14:55.8194 INFO Authorization was successful.
2024-03-29 11:14:55.8194 INFO Executing endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:55.8194 INFO Route matched with {action = "AddLoan", controller = "Loan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[FINAL2.Model.Loan]] AddLoan(Int32, FINAL2.Model.Loan) on controller FINAL2.Controllers.LoanController (FINAL2).
2024-03-29 11:14:55.8194 DEBUG Execution plan of authorization filters (in the following order): None
2024-03-29 11:14:55.8194 DEBUG Execution plan of resource filters (in the following order): None
2024-03-29 11:14:55.8194 DEBUG Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000), Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)
2024-03-29 11:14:55.8194 DEBUG Execution plan of exception filters (in the following order): None
2024-03-29 11:14:55.8194 DEBUG Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)
2024-03-29 11:14:55.8194 DEBUG Executing controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 11:14:55.8194 DEBUG Executed controller factory for controller FINAL2.Controllers.LoanController (FINAL2)
2024-03-29 11:14:55.8194 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-03-29 11:14:55.8194 DEBUG Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-03-29 11:14:55.8194 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:55.8194 DEBUG Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:55.8194 DEBUG Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-03-29 11:14:55.8194 DEBUG Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-03-29 11:14:55.8194 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 11:14:55.8194 DEBUG Attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan' using the name '' in request data ...
2024-03-29 11:14:55.8194 DEBUG Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-03-29 11:14:55.8194 DEBUG JSON input formatter succeeded, deserializing to type 'FINAL2.Model.Loan'
2024-03-29 11:14:55.8194 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:55.8194 DEBUG Done attempting to bind parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:55.8194 DEBUG Attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan' ...
2024-03-29 11:14:55.8194 DEBUG Done attempting to validate the bound parameter 'loan' of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:55.8194 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:55.8194 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:55.8194 TRACE Action Filter: Before executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:55.8194 TRACE Action Filter: After executing OnActionExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:55.8194 INFO Executing action method FINAL2.Controllers.LoanController.AddLoan (FINAL2) - Validation state: Valid
2024-03-29 11:14:55.8194 TRACE Executing action method FINAL2.Controllers.LoanController.AddLoan (FINAL2) with arguments (1, FINAL2.Model.Loan)
2024-03-29 11:14:55.8194 INFO Entity Framework Core 5.0.0 initialized 'PersonDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: NoTracking SensitiveDataLoggingEnabled MigrationsAssembly=FINAL2 
2024-03-29 11:14:55.8352 DEBUG Compiling query expression: 
'DbSet<Person>()
    .FirstOrDefault(x => x.Id == __id_0)'
2024-03-29 11:14:55.8352 DEBUG Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Person>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Person.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Person.Age (int) Required, 1], [Property: Person.Email (string), 2], [Property: Person.IsBlocked (bool) Required, 3], [Property: Person.Name (string), 4], [Property: Person.Password (string), 5], [Property: Person.Role (string), 6], [Property: Person.Salary (double) Required, 7], [Property: Person.Surname (string), 8], [Property: Person.UserName (string), 9], }
        SELECT TOP(1) p.Id, p.Age, p.Email, p.IsBlocked, p.Name, p.Password, p.Role, p.Salary, p.Surname, p.UserName
        FROM Persons AS p
        WHERE p.Id == @__id_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Person>, 
    FINAL2.Data.PersonDbContext, 
    False, 
    False
)
    .SingleOrDefault()'
2024-03-29 11:14:55.8352 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:14:55.8352 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:14:55.8352 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8352 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8352 DEBUG Executing DbCommand [Parameters=[@__id_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[Id] = @__id_0
2024-03-29 11:14:55.8625 INFO Executed DbCommand (15ms) [Parameters=[@__id_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Age], [p].[Email], [p].[IsBlocked], [p].[Name], [p].[Password], [p].[Role], [p].[Salary], [p].[Surname], [p].[UserName]
FROM [Persons] AS [p]
WHERE [p].[Id] = @__id_0
2024-03-29 11:14:55.8625 DEBUG A data reader was disposed.
2024-03-29 11:14:55.8625 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8625 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8665 DEBUG Compiling query expression: 
'DbSet<Loan>()
    .FirstOrDefault(x => x.PersonId == __id_0)'
2024-03-29 11:14:55.8665 DEBUG Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Loan>(
    asyncEnumerable: new SingleQueryingEnumerable<Loan>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Loan.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Loan.Amount (int) Required, 1], [Property: Loan.Currency (Currency) Required, 2], [Property: Loan.Period (int) Required, 3], [Property: Loan.PersonId (int) Required FK Index, 4], [Property: Loan.Status (Status) Required, 5], [Property: Loan.Type (LoanType) Required, 6], }
            SELECT TOP(1) l.Id, l.Amount, l.Currency, l.Period, l.PersonId, l.Status, l.Type
            FROM Loans AS l
            WHERE l.PersonId == @__id_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Loan>, 
        FINAL2.Data.PersonDbContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-03-29 11:14:55.8665 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:14:55.8665 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:14:55.8665 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8665 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8665 DEBUG Executing DbCommand [Parameters=[@__id_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[Period], [l].[PersonId], [l].[Status], [l].[Type]
FROM [Loans] AS [l]
WHERE [l].[PersonId] = @__id_0
2024-03-29 11:14:55.8665 INFO Executed DbCommand (6ms) [Parameters=[@__id_0='1'], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [l].[Id], [l].[Amount], [l].[Currency], [l].[Period], [l].[PersonId], [l].[Status], [l].[Type]
FROM [Loans] AS [l]
WHERE [l].[PersonId] = @__id_0
2024-03-29 11:14:55.8665 DEBUG A data reader was disposed.
2024-03-29 11:14:55.8828 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8828 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.8828 DEBUG '"PersonDbContext"' generated temporary value '-2147482647' for the property '"Id"."Loan"'.
2024-03-29 11:14:55.9087 DEBUG Context 'PersonDbContext' started tracking 'Loan' entity with key '{Id: -2147482647}'.
2024-03-29 11:14:55.9087 DEBUG SaveChanges starting for 'PersonDbContext'.
2024-03-29 11:14:55.9087 DEBUG DetectChanges starting for 'PersonDbContext'.
2024-03-29 11:14:55.9181 DEBUG DetectChanges completed for 'PersonDbContext'.
2024-03-29 11:14:55.9181 DEBUG Opening connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.9181 DEBUG Opened connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.9181 DEBUG Beginning transaction with isolation level 'Unspecified'.
2024-03-29 11:14:55.9181 DEBUG Began transaction with isolation level 'ReadCommitted'.
2024-03-29 11:14:55.9181 DEBUG Creating DbCommand for 'ExecuteReader'.
2024-03-29 11:14:55.9181 DEBUG Created DbCommand for 'ExecuteReader' (0ms).
2024-03-29 11:14:55.9181 DEBUG Executing DbCommand [Parameters=[@p0='100', @p1='1', @p2='4', @p3='3', @p4='1', @p5='1'], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Loans] ([Amount], [Currency], [Period], [PersonId], [Status], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Loans]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 11:14:55.9181 INFO Executed DbCommand (3ms) [Parameters=[@p0='100', @p1='1', @p2='4', @p3='3', @p4='1', @p5='1'], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Loans] ([Amount], [Currency], [Period], [PersonId], [Status], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT [Id]
FROM [Loans]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2024-03-29 11:14:55.9181 DEBUG The foreign key property 'Loan.Id' was detected as changed from '-2147482647' to '1' for entity with key '{Id: 1}'.
2024-03-29 11:14:55.9181 DEBUG A data reader was disposed.
2024-03-29 11:14:55.9181 DEBUG Committing transaction.
2024-03-29 11:14:55.9181 DEBUG Committed transaction.
2024-03-29 11:14:55.9181 DEBUG Closing connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.9181 DEBUG Closed connection to database 'FINALPART2/3' on server '.'.
2024-03-29 11:14:55.9181 DEBUG Disposing transaction.
2024-03-29 11:14:55.9290 DEBUG The 'Loan' entity with key '{Id: 1}' tracked by 'PersonDbContext' changed state from 'Added' to 'Unchanged'.
2024-03-29 11:14:55.9290 DEBUG SaveChanges completed for 'PersonDbContext' with 1 entities written to the database.
2024-03-29 11:14:55.9290 INFO Executed action method FINAL2.Controllers.LoanController.AddLoan (FINAL2), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 107.4148ms.
2024-03-29 11:14:55.9290 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:55.9290 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter.
2024-03-29 11:14:55.9290 TRACE Action Filter: Before executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:55.9290 TRACE Action Filter: After executing OnActionExecuted on filter Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter.
2024-03-29 11:14:55.9290 TRACE Result Filter: Before executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:55.9290 TRACE Result Filter: After executing OnResultExecuting on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:55.9290 TRACE Before executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:14:55.9290 DEBUG List of registered output formatters, in the following order: Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter, Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter
2024-03-29 11:14:55.9290 DEBUG No information found on request to perform content negotiation.
2024-03-29 11:14:55.9290 DEBUG Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-03-29 11:14:55.9290 DEBUG Attempting to select the first formatter in the output formatters list which can write the result.
2024-03-29 11:14:55.9290 DEBUG Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-03-29 11:14:55.9290 INFO Executing OkObjectResult, writing value of type 'FINAL2.Model.Loan'.
2024-03-29 11:14:55.9290 TRACE After executing action result Microsoft.AspNetCore.Mvc.OkObjectResult.
2024-03-29 11:14:55.9290 TRACE Result Filter: Before executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:55.9290 TRACE Result Filter: After executing OnResultExecuted on filter Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter.
2024-03-29 11:14:55.9290 INFO Executed action FINAL2.Controllers.LoanController.AddLoan (FINAL2) in 112.1154ms
2024-03-29 11:14:55.9290 INFO Executed endpoint 'FINAL2.Controllers.LoanController.AddLoan (FINAL2)'
2024-03-29 11:14:55.9290 DEBUG 'PersonDbContext' disposed.
2024-03-29 11:14:55.9290 INFO Request finished HTTP/1.1 POST https://localhost:44391/api/Loan/addloan?id=1 application/json 375 - 200 - application/json;+charset=utf-8 148.0722ms
